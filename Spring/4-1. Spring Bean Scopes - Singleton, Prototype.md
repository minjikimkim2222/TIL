# Spring Bean Scopes - Singleton, Prototype

섹션 3에서는 Spring 프레임워크의 기본 내용들을 살펴보았다. 스프링 컨테이너와 Bean 용어의 의미, 스프링 컨테이너의 생성 - 스프링 빈 등록 - 스프링 빈 의존관계 설정, @Configuration & @Bean & @Component, 우선순위 및 식별자 등록 - @Primary, @Qualifier, 의존성 주입의 뜻과 3가지 방법들 -그 중 생성자 주입 추천-을 배웠다.

그렇다면 이제 section 4에서는 Spring 프레임워크의 고-급 기능을 살펴보자!

# @Scope value값 2가지 - Singleton(default), Prototype

## Bean Scope란?
우리가 일반적으로 스프링 빈(Bean)이라고 하면, 스프링 컨테이너가 시작될 때 함께 생성되고, 스프링 컨테이너가 종료될 때까지 유지되는 것이다. 이것은 스프링 빈이 기본적으로 **싱글톤 스코프**로 생성되기 때문이다.

즉, **Scope**란, 빈이 존재할 수 있는 **범위**를 뜻한다. 

또한, @Scope 어노테이션은 주로 **@Component 어노테이션 위**에 위치하는데, 아래의 코드를 보고 **@Scope 어노테이션의 value값 2가지 - Singleton, Prototype**을 살펴보자.

## 코드 및 설명
```java

@Component
class NormalClass {

}

@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)
@Component
class PrototypeClass {

}

public class BeanScopeLauncherApplication {
    public static void main(String[] args){
        var context =
            new AnnotationConfigApplicationContext(BeanScopeLauncherApplication.class);
        
        Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);
        // 현재 Bean이 무엇이 있는지 출력
        
    }
}
```

- default값인 Singleton인 NormalClass와 Prototype인 PrototypeClass

    getBean을 통해 **각 클래스의 인스턴스**를 불러온다고 하자.
    ```java
    // 앞 설정은 위 코드와 같음. main만 수정
    System.out.println(context.getBean(NormalClass.class));
    System.out.println(context.getBean(NormalClass.class));

    System.out.println(context.getBean(PrototypeClass.class));
    System.out.println(context.getBean(PrototypeClass.class));
    System.out.println(context.getBean(PrototypeClass.class));
    ```

    실행결과 :

    com.in28minutes.learnspringframework.examples.e1.NormalClass@78fa769e

    com.in28minutes.learnspringframework.examples.e1.NormalClass@78fa769e

    com.in28minutes.learnspringframework.examples.e1.PrototypeClass@16612a51

    com.in28minutes.learnspringframework.examples.e1.PrototypeClass@54e041a4

    com.in28minutes.learnspringframework.examples.e1.PrototypeClass@2c78324b


- 정리

## 결론

# Singleton vs Prototype